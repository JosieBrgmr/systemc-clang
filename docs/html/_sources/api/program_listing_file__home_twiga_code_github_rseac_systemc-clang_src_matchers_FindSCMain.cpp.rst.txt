
.. _program_listing_file__home_twiga_code_github_rseac_systemc-clang_src_matchers_FindSCMain.cpp:

Program Listing for File FindSCMain.cpp
=======================================

|exhale_lsh| :ref:`Return to documentation for file <file__home_twiga_code_github_rseac_systemc-clang_src_matchers_FindSCMain.cpp>` (``/home/twiga/code/github/rseac/systemc-clang/src/matchers/FindSCMain.cpp``)

.. |exhale_lsh| unicode:: U+021B0 .. UPWARDS ARROW WITH TIP LEFTWARDS

.. code-block:: cpp

   #include "FindSCMain.h"
   
   using namespace scpar;
   
   FindSCMain::FindSCMain(TranslationUnitDecl *tuDecl, llvm::raw_ostream &os)
       : os_{os}, sc_main_function_declaration_{nullptr} {
     assert(!(tuDecl == nullptr));
     TraverseDecl(tuDecl);
   }
   
   FindSCMain::~FindSCMain() { sc_main_function_declaration_ = nullptr; }
   
   bool FindSCMain::VisitFunctionDecl(FunctionDecl *function_declaration) {
     if ((function_declaration->getNameInfo().getAsString() != "sc_main") ||
         (!function_declaration->hasBody()) || (function_declaration->isMain())) {
       return true;
     }
   
     sc_main_function_declaration_ = function_declaration;
     return true;
   }
   
   FunctionDecl *FindSCMain::getSCMainFunctionDecl() const {
     assert(sc_main_function_declaration_ != nullptr);
   
     return sc_main_function_declaration_;
   }
   
   bool FindSCMain::isSCMainFound() const {
     return (sc_main_function_declaration_ != nullptr);
   }
